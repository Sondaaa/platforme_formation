{{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

<div class="row">
    <div class="col-md-6 mb-3">
        {{ form_label(form.rs, 'Raison Sociale', { label_attr: { class: 'form-label fw-bold' } }) }}
        {{ form_widget(form.rs, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.rs) }}
    </div>

    <div class="col-md-6 mb-3">
        {{ form_label(form.adresse, 'Adresse', { label_attr: { class: 'form-label fw-bold' } }) }}
        {{ form_widget(form.adresse, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.adresse) }}
    </div>

    <div class="col-md-6 mb-3">
        {{ form_label(form.contact, 'Contact', { label_attr: { class: 'form-label fw-bold' } }) }}
        {{ form_widget(form.contact, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.contact) }}
    </div>

   <div class="col-md-6 mb-3">
    {{ form_label(form.tel) }}
    {{ form_widget(form.tel, {attr: {'class':'form-control'}}) }}
    {{ form_errors(form.tel) }}
</div>
    <div class="col-md-6 mb-3">
        {{ form_label(form.fax, 'Fax', { label_attr: { class: 'form-label fw-bold' } }) }}
        {{ form_widget(form.fax, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.fax) }}
    </div>

    <div class="col-md-6 mb-3">
        {{ form_label(form.email, 'Email', { label_attr: { class: 'form-label fw-bold' } }) }}
        {{ form_widget(form.email, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.email) }}
    </div>

    <div class="col-md-6 mb-3">
        {{ form_label(form.logo, 'Logo', { label_attr: { class: 'form-label fw-bold' } }) }}
        
        {% if societe is defined and societe.logo %}
            <div class="mb-2">
                <img src="{{ asset('uploads/logos/' ~ societe.logo) }}" alt="Logo actuel" 
                     class="img-thumbnail" style="max-height: 100px;">
            </div>
        {% endif %}
        
        <div class="custom-file">
            {{ form_widget(form.logo, { attr: { class: 'custom-file-input', id: 'logoUpload' } }) }}
            <label class="custom-file-label" for="logoUpload">Choose file...</label>
        </div>
        {{ form_errors(form.logo) }}
    </div>
</div>

<div class="mt-3">
    <button class="btn btn-primary">
        <i class="fas fa-save"></i> {{ button_label|default('Save') }}
    </button>
    <a href="{{ path('app_societe_index') }}" class="btn btn-secondary">Back to list</a>
</div>

{{ form_end(form) }}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const fileInput = document.querySelector('#logoUpload');
        const fileLabel = document.querySelector('label[for="logoUpload"]');
        
        fileInput.addEventListener('change', function (e) {
            const fileName = e.target.files.length > 0 ? e.target.files[0].name : 'Choose file...';
            fileLabel.textContent = fileName;
        });
    });
</script>
