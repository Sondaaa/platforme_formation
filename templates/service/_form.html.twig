{% form_theme form 'form/_form_theme.html.twig' %}

{{ form_start(form) }}

<div class="row col-md-12">
  <div class="col-md-6">{{ form_row(form.titre) }}</div>
</div>
 <div class="col-md-6 mb-3">
        {{ form_label(form.photo, 'Photo', { label_attr: { class: 'form-label fw-bold' } }) }}
        
        {% if service is defined and service.photo %}
            <div class="mb-2">
                <img src="{{ asset('uploads/logos/' ~ service.photo) }}" alt="" 
                     class="img-thumbnail" style="max-height: 100px;">
            </div>
        {% endif %}
        
        <div class="custom-file">
            {{ form_widget(form.photo, { attr: { class: 'custom-file-input', id: 'logoUpload' } }) }}
            <label class="custom-file-label" for="logoUpload">Choose file...</label>
        </div>
        {{ form_errors(form.photo) }}
    </div>
<div class="row col-md-12">
  <div class="col-md-12">{{ form_row(form.description) }}</div>
</div>

{# If you want to add a checkbox (example) you can do it like this #}
{# 
<div class="col-md-6 mb-3">
  <div class="form-check">
    <input type="checkbox" id="service_someCheckbox" name="service[someCheckbox]" class="form-check-input" value="1" />
    <label for="service_someCheckbox" class="form-check-label fw-bold">Some Checkbox</label>
  </div>
</div>
#}

{{ form_widget(form._token) }}

<div class="mt-3">
  <button type="submit" class="btn btn-primary">{{ button_label|default('Save') }}</button>
  <a href="{{ path('app_service_index') }}" class="btn btn-secondary">Back to list</a>
</div>

{{ form_end(form, { render_rest: false }) }}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const fileInput = document.querySelector('#logoUpload');
        const fileLabel = document.querySelector('label[for="logoUpload"]');
        
        fileInput.addEventListener('change', function (e) {
            const fileName = e.target.files.length > 0 ? e.target.files[0].name : 'Choose file...';
            fileLabel.textContent = fileName;
        });
    });
</script>